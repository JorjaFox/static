jQuery.extend(jQuery.easing,{easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}}),jQuery(document).ready(function(a){var b=!1,c=a("#bitsubscribe").height(),d=a("#bit");setTimeout(function(){d.animate({bottom:"-"+c-10+"px"},200),(document.location.href.indexOf("subscribe=")>-1||document.location.href.indexOf("fb_source=")>-1||document.location.href.indexOf("utm_source=")>-1||document.referrer.match(/^https?:\/\/([^\/]+\.)?tumblr\.com(\/|$)/i)||document.referrer.match(/^https?:\/\/([^\/]+\.)?twitter\.com(\/|$)/i)||document.referrer.match(/^https?:\/\/([^\/]+\.)?t\.co(\/|$)/i))&&e()},300);var e=function(){b||(b=!0,a("a.bsub",d).addClass("open"),a("#bitsubscribe",d).addClass("open"),d.stop(),d.animate({bottom:"0px"},{duration:400,easing:"easeOutCubic"}))},f=function(){b&&(b=!1,d.stop(),d.animate({bottom:"-"+c-10+"px"},200,function(){a("a.bsub",d).removeClass("open"),a("#bitsubscribe",d).removeClass("open")}))};a("a.bsub",d).click(function(){b?f():e()});var g=d.has("form").length?d:a(document);g.keyup(function(a){27==a.keyCode&&f()}),a("#loggedout-follow").submit(function(){if(email=a("#loggedout-follow-field").val(),""===email||!email.match(/^.*@.*\..*$/)){var b=LoggedOutFollow.invalid_email;return a("#loggedout-follow-error").text(b).css("opacity",1).fadeIn("slow"),a("#loggedout-follow-field").focus(function(){a("#loggedout-follow-error").fadeOut()}),!1}return!0})});